<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document_03.22</title>
    <link rel="stylesheet" href="app.css">
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas" width="960" height="480"></canvas>
    </div>
    <button id="startBtn" class="btn">게임시작</button>
    <input type="color" id="colorPicker">
    <input type="number" id="widthSel">
    <input type="radio" name="mode" value="1" id="drawRadio" checked> 그리기
    <input type="radio" name="mode" value="2" id="removeRadio"> 지우기
    <script>
        let btn = document.querySelector("#startBtn");
        btn.addEventListener("click", function(){
            //alert("버튼 클릭");
        });

        let canvas = document.querySelector("#gameCanvas");

        let ctx = canvas.getContext("2d");

        let cp = document.querySelector("#colorPicker");

        let num = document.querySelector("#widthSel");

        let drawCheck = document.querySelector("#drawRadio");
        let removeCheck = document.querySelector("#removeRadio");

        let drawCheck2 = document.querySelector('input[name="mode"]:checked').value;

        let isDown = false;
        let x = 0;
        let y = 0;

        /*canvas.addEventListener("click", function(e) {
            //console.log(cp.value);
            //console.log(e.offsetX,e.offsetY);
            ctx.fillStyle = cp.value;
            ctx.fillRect(e.offsetX,e.offsetY,10,10);
        });*/

        canvas.addEventListener("mousedown", function(e){
            isDown = true;
            x = e.offsetX;
            y = e.offsetY;
            
            
        });

        canvas.addEventListener("mouseup", function(e){
            isDown = false;
        });

        canvas.addEventListener("mousemove", function(e){
            if(!isDown) return;

            if(document.getElementById('drawRadio').checked) {
                //Male radio button is checked
                ctx.lineWidth = num.value;
                ctx.strokeStyle = cp.value;
                ctx.beginPath();
                ctx.moveTo(x,y);
                ctx.lineTo(e.offsetX,e.offsetY);
                ctx.stroke();
            }else if(document.getElementById('removeRadio').checked) {
                //Female radio button is checked
                ctx.beginPath();
                ctx.moveTo(x,y);
                ctx.lineTo(e.offsetX,e.offsetY);
                ctx.clearRect(x,y,5,5);
            }

            // if()
            // {
            //     ctx.lineWidth = num.value;
            //     ctx.strokeStyle = cp.value;
            //     ctx.beginPath();
            //     ctx.moveTo(x,y);
            //     ctx.lineTo(e.offsetX,e.offsetY);
            //     ctx.stroke();

            // }
            // else {
            //     ctx.beginPath();
            //     ctx.moveTo(x,y);
            //     ctx.lineTo(e.offsetX,e.offsetY);
            //     ctx.clearRect(x,y,5,5);
            // }

            //ctx.clearRect(x,y,5,5);
            x = e.offsetX;
            y = e.offsetY;
        });



        /*ctx.strokeStyle = "rgba(255,0,0,0.5)";
        ctx.strokeRect(20, 20, 100, 100);
        ctx.fillStyle = "rgba(0, 255, 0, 0.5)";
        ctx.fillRect(150, 20, 100, 100);

        ctx.beginPath();
        ctx.moveTo(250,250);
        ctx.lineTo(360,100);
        ctx.lineTo(480,250);
        ctx.moveTo(600,250);
        ctx.lineTo(700,100);
        ctx.lineTo(820,250);
        ctx.moveTo(600,400);
        ctx.lineTo(300,360);
        ctx.lineTo(560,600);
        ctx.moveTo(100,100);


        ctx.closePath();
        ctx.stroke();*/
        
    </script>
</body>
</html>